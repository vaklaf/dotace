# DOTACE

CÃ­lem tohoto projektu je vytvoÅ™enÃ­ nÃ¡stroje, kterÃ½ by umoÅ¾nil stahovat z webovÃ½ch portÃ¡lÅ¯ krajÅ¯ zde publikovanÃ© informace o poskytnutÃ½ch dotacÃ­ch.

NÃ¡stroj by mÄ›l snadno ovladatelnÃ½ a konfigurovatelnÃ½.
ProblÃ©m, kterÃ½ je tÅ™eba Å™eÅ¡it, je skuteÄnost, Å¾e kaÅ¾dÃ½ kraj pÅ™istupuje k publikace tÄ›chto informacÃ­ odliÅ¡nÄ›. NÄ›kterÃ© kraje, napÅ™Ã­klad PlzeÅˆskÃ½ Äi VysoÄoina zvÅ™ejÅˆujÃ­ tyto Ãºdaje v dobÅ™e sturkturovanÃ© formÄ› jiÅ¾ na prvnÃ­ Ãºrovni webu, tzn. pÅ™i prvnÃ­m naÄtenÃ­ webovÃ© strÃ¡nky. VÄ›tÅ¡ina zbÃ½vajÃ­cÃ­ch krajÅ¯ pak mÃ¡ na tÃ©to Ãºrovni rozcestnÃ­k, rÅ¯znÄ› strukturovanÃ½ odkazjÃ­cÃ­ vÄ›tiÅ¡nou na vÃ½Äty vypsanÃ½ch dotaÄnÃ­ch titulÅ¯ a u nich je tÅ™eba pÅ™ejit na detail. Na Ãºrovni detailu dotatÄnÃ­ho titulu pak obvykle nalezneme seznam seznam souborÅ¯ s danÃ½m titulem souvisejÃ­cÃ­ch. A jen nÄ›kterÃ© z nich obsahujÃ­ poÅ¾adovanÃ© informace. Je pak nutnÃ© customizovat pravidla vyhledÃ¡vÃ¡nÃ­ potÅ™ebnÃ½ch soburÅ¯ pro kaÅ¾dÃ½ kraj.

Nutno dodat, Å¾e sloÅ¾itost Ãºlohy zvyÅ¡uje i skuteÄnost, Å¾e nepanuje jednota v pojmenovÃ¡nÃ­ souborÅ¯ na Ãºrovni samotnÃ©ho kraje, kde se nÃ¡zvoslovÃ­ mÅ¯Å¾e liÅ¡it titul od titulu Äi mezi jednotlivÃ½mi odbory kraje.

DÃ¡le nenÃ­ pouÅ¾Ã­vÃ¡n jednotÃ½ formÃ¡t zobrazovanÃ½ch dato. NahcÃ¡zÃ­me soubory formÃ¡tu *.csv (ojedinÄ›le), *.xls / *.xlsx, *.pdf (ty pÅ™evaÅ¾ujÃ­), ale i *.zip - ty je tÅ™eba rozbalit a dÃ¡le zkoumat obsah rozbalenÃ½ch archivÅ¯.
Nepanuje jednota ani mezi rozsahem zveÅ™ejÅˆovanÃ½ch dat.


## Seznam vÃ½chozÃ­ch odkazÅ¯

https://www.kraj-jihocesky.cz/cs/dotace-fondy-eu'

https://dotace.kr-jihomoravsky.cz/
    
https://dotace.khk.cz/

https://www.kr-karlovarsky.cz/dotace/dotacni-programy-karlovarskeho-kraje

https://dotace.kraj-lbc.cz/

https://www.msk.cz/temata/dotace/index.html

https://www.olkraj.cz/dotace-granty-prispevky

https://dotace.pardubickykraj.cz/grants

https://dotace.plzensky-kraj.cz/verejnost

https://stredoceskykraj.cz/web/urad/dotace

https://www.kr-ustecky.cz/dotace/ms-272329

https://www.fondvysociny.cz/dotace/

https://zlinskykraj.cz/dotace-zlinskeho-kraje

## Prinicp projektu

Pro kaÅ¾dÃ½ kraj je tÅ™eba vytvoÅ™it samostatnou tÅ™Ã­du `cls_*_region.py`, kterÃ¡ dÄ›dÃ­ od abstraktnÃ­ tÅ™Ã­dy `cls_regions.py` mtodu `crawl()`, kterÃ¡ spouÅ¡tÃ­ proces zpracovÃ¡nÃ­ danÃ©ho webu. 

Pomoci nastavenÃ­ konfiguraÄnÃ­ch paramaterÅ¯ v souboru `cofiguration.yml`, konkrÃ©tnÄ›, nastavenÃ­m paramteru `process', lze ovlivnit, kterÃ© z krajÅ¯ se budou pÅ™i konkrÃ©tnÃ­m spuÅ¡tÄ›nÃ­ aplikace zpracovÃ¡vat.

```yml
regions:
  plk:
    name: PlzeÅˆskÃ½ kraj
    url: https://dotace.plzensky-kraj.cz/verejnost/zadosti?_name=Zadosti&_search=false&nd=1742109491719&rows=25&page=1&sidx=&sord=asc, https://dotace.plzensky-kraj.cz/verejnost/individualni-zadosti?_name=IndividualniZadosti&_search=false&nd=1742131019737&rows=25&page=1&sidx=&sord=asc
    process: 1

```

SamotnÃ© spuÅ¡tÄ›nÃ­ aplikace se pak provÃ¡dÃ­ z terminÃ¡lu (pÅ™Ã­kazovÃ© Å™Ã¡dky) nÃ¡sledovnÄ›:

```powershell
>python .\main.py
````

>**UPOZORNÄšNÃ**

> Je tÅ™eba mÃ­t ve soupÅ¡tÄ›cÃ­ sloÅ¾ce vytvoÅ™enÃ© a aktivovanÃ© vitruÃ¡lnÃ­ prostÅ™edÃ­ jazyka Python. 
> VytvoÅ™enÃ­ vistuÃ¡lnÃ­ho prostÅ™edÃ­:

```powershell
>python -m venv venv
```
> VytvoÅ™enÃ­ vistuÃ¡lnÃ­ho prostÅ™edÃ­:

```powershell
>./venv/Scripts/activate.bat
```
>V takto vytovoÅ™enÃ©m a aktivovanÃ©m virtuÃ¡lnÃ­m prosÅ™edÃ­ je tÅ™eba mÃ­t nainstalovÃ¡ny potÅ™ebnÃ© rozÅ¡iÅ™ujÃ­cÃ­ balÃ­Äky jazyka Python. Jejich vÃ½Äet je obsaÅ¾en v souboru `requirements.txt'.

>Instlace rozÅ¡iÅ™ujÃ­cÃ­ch balÃ­ÄkÅ¯

```powershell
>pip install -r requirements.txt
```

## Struktura projektu

Projekt je strukturovÃ¡n nÃ¡sledujcÃ­m zpÅ¯sobem

```
â””â”€â”€ ğŸ“dotace
    â””â”€â”€ ğŸ“logs
        â””â”€â”€ .gitkeep
    â””â”€â”€ ğŸ“outputs
        â””â”€â”€ .gitkeep
    â””â”€â”€ ğŸ“src
        â””â”€â”€ __init__.py
        â””â”€â”€ ğŸ“apis
            â””â”€â”€ __init__.py
            â””â”€â”€ downloader_listener.py
            â””â”€â”€ events.py
            â””â”€â”€ logger_listener.py
        â””â”€â”€ app.py
        â””â”€â”€ ğŸ“library
            â””â”€â”€ cls_regions.py
            â””â”€â”€ custom_enums.py
            â””â”€â”€ ğŸ“downloader
                â””â”€â”€ __init__.py
                â””â”€â”€ exeptions.py
                â””â”€â”€ file_downloader.py
            â””â”€â”€ ğŸ“logger
                â””â”€â”€ custom_formatters.py
                â””â”€â”€ custom_handlers.py
                â””â”€â”€ custom_message.py
                â””â”€â”€ logger.py
                â””â”€â”€ loglevel.py
            â””â”€â”€ ğŸ“regions
                â””â”€â”€ __init__.py
                â””â”€â”€ cls_abstract_region.py
                â””â”€â”€ cls_jhk_region.py
                â””â”€â”€ cls_plk_region.py
                â””â”€â”€ cls_stc_region.py
                â””â”€â”€ cls_vys_region.py
                â””â”€â”€ cls_zlk_region.py
                â””â”€â”€ ğŸ“schemes
                    â””â”€â”€ cls_plk_schemes.py
                    â””â”€â”€ cls_vys_schemes.py
                    â””â”€â”€ cls_zlk_schemes.py
                    â””â”€â”€ ischema.py
            â””â”€â”€ transformation_by_data_type.py
            â””â”€â”€ ğŸ“utilities
                â””â”€â”€ __init__.py
                â””â”€â”€ others.py
                â””â”€â”€ strings.py
    â””â”€â”€ ğŸ“tests
        â””â”€â”€ test_string_utilities.py
        â””â”€â”€ test_utilities.py
    â””â”€â”€ .gitignore
    â””â”€â”€ configuration.yml
    â””â”€â”€ main.py
    â””â”€â”€ project_structure.MD
    â””â”€â”€ README.MD
    â””â”€â”€ requirements.txt
```

## ToDo

Projekt v tÃ©to chvÃ­li jeÅ¡tÄ› nelze povaÅ¾ovat za kompletnÃ­. V souÄasnÃ© chvÃ­li jsou zpracovanÃ© kÃ³dy pro kraje:

- PlzeÅˆskÃ½
- VysoÄina
- ZlÃ­nskÃ½
- StÅ™edoÄekÃ½

KÃ³d pro JihoÄeskÃ½ kraj je tÅ™eba upravit tak, aby odpovÃ­dal koncetpu jiÅ¾ zpracovanÃ½ch krajÅ¯. ZbÃ½vajÃ­cÃ­ kraje je tÅ™eba doplnit komplentÄ›.

ZÃ¡roveÅˆ je tÅ™eba kÃ³d optimalizovat a Å™Ã¡dnÄ› otestovat. V tuto chvÃ­li lze hovoÅ™it o verzi 0.0.1.

### Nice To Have

VytvoÅ™enÃ­ GUI pro snazÅ¡Ã­ ovlÃ¡dÃ¡nÃ­ a nastavovÃ¡nÃ­ konfiguraÄnÃ­ch paramterÅ¯ bez nutnostoti pÅ™Ã­pÃ© editace konfigruaÄnÃ­ho souboru.